(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{141:function(e,a,t){e.exports=t.p+"static/media/integra_logo.ffdf0581.png"},165:function(e,a,t){e.exports=t(238)},170:function(e,a,t){},171:function(e,a,t){},179:function(e,a,t){},180:function(e,a,t){},181:function(e,a,t){},182:function(e,a,t){},183:function(e,a,t){},185:function(e,a,t){},186:function(e,a,t){},187:function(e,a,t){},188:function(e,a,t){},189:function(e,a,t){},190:function(e,a,t){},191:function(e,a,t){},192:function(e,a,t){},196:function(e,a,t){},198:function(e,a,t){},199:function(e,a,t){},200:function(e,a,t){},201:function(e,a,t){},202:function(e,a,t){},203:function(e,a,t){},204:function(e,a,t){},205:function(e,a,t){},206:function(e,a,t){},207:function(e,a,t){},208:function(e,a,t){},209:function(e,a,t){},210:function(e,a,t){},211:function(e,a,t){},212:function(e,a,t){},213:function(e,a,t){},214:function(e,a,t){},215:function(e,a,t){},216:function(e,a,t){e.exports=t.p+"static/media/preview.0a0f74fa.jpg"},233:function(e,a,t){},234:function(e,a,t){},235:function(e,a,t){},236:function(e,a,t){},237:function(e,a,t){},238:function(e,a,t){"use strict";t.r(a);var n=t(1),r=t.n(n),l=t(78),o=t.n(l),c=(t(170),t(171),t(76)),s=t(25),i=t(106),u=t(33),d={setDatabase:"SET_DATABASE",setMongoClient:"SET_MONGO_CLIENT",setUserLogged:"SET_USER_LOGGED",showModal:"SHOW_MODAL",closeModal:"CLOSE_MODAL",setProfissionais:"SET_PROFISSIONAIS",setAdministrativo:"SET_ADMS",setSalas:"SET_SALAS",selectDate:"SELECT_DATE",selectSala:"SELECT_SALA",selectAgendamentos:"SELECT_AGENDAMENTO",setAgendamentos:"SET_AGENDAMENTOS",selectAdministrador:"SELECT_ADM",selectProfissional:"SELECT_PROF",setLogs:"SET_LOGS",setProfissionalReservas:"SET_PROF_RESERVAS"},m={database:null,mongoClient:null,modalType:"",userLogged:{},showModal:!1,dateSelected:new Date},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case d.setMongoClient:return Object(u.a)({},e,{mongoClient:a.payload});case d.setDatabase:return Object(u.a)({},e,{database:a.payload});case d.setUserLogged:return Object(u.a)({},e,{userLogged:a.payload});case d.showModal:return Object(u.a)({},e,{showModal:!0,modalType:a.payload});case d.closeModal:return Object(u.a)({},e,{showModal:!1});case d.selectDate:return Object(u.a)({},e,{dateSelected:a.payload});default:return e}},p={profissionais:[],profissionalSelected:{},profissionalReservas:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case d.setProfissionais:return Object(u.a)({},e,{profissionais:n});case d.selectProfissional:return Object(u.a)({},e,{profissionalSelected:n});case d.setProfissionalReservas:return Object(u.a)({},e,{profissionalReservas:n});default:return e}},v=t(159),h={administradores:[],administradorSelected:{}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case d.setAdministrativo:return Object(u.a)({},e,{administradores:n});case d.selectAdministrador:return Object(u.a)({},e,{administradorSelected:n});default:return e}},b={salas:[],salaSelected:{}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case d.setSalas:return Object(u.a)({},e,{salas:n});case d.selectSala:return Object(u.a)({},e,{salaSelected:n});default:return e}},y={salaSelected:{},agendamentos:[],agendamentoSelected:{}},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case d.selectSala:return Object(u.a)({},e,{salaSelected:n});case d.setAgendamentos:return Object(u.a)({},e,{agendamentos:n});case d.selectAgendamentos:return Object(u.a)({},e,{agendamentoSelected:n});default:return e}},N={logs:[]},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,a=arguments.length>1?arguments[1]:void 0,t=a.type,n=a.payload;switch(t){case d.setLogs:return Object(u.a)({},e,{logs:n});default:return e}},w=Object(i.d)(Object(i.c)({general:f,profissionais:g,administradores:E,salas:S,agendamentos:_,logs:x},Object(i.a)(v.a))),O=t(94),A=t(37),C=t(21),j=t.n(C),k=t(30),M=t(20),L="administradores",R={db:null,setDb:function(e){this.db=e},create:function(e){return console.log("created administrador"),this.db.collection(L).insertOne(e)},update:function(e,a){return console.log("update administrador"),this.db.collection(L).updateMany(e,{$set:a})},delete:function(e){return console.log("delete administrador"),this.db.collection(L).deleteMany(e)},findAll:function(){return console.log("find administrador"),this.db.collection(L).find({}).toArray()},addUser:function(e,a,t,n){var r=this;return Object(k.a)(j.a.mark((function l(){var o;return j.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("add User"),o=e.auth.getProviderClient(c.d.factory),l.next=4,o.registerWithEmail(a,t);case 4:return l.abrupt("return",r.create(Object(u.a)({},n,{email:a})));case 5:case"end":return l.stop()}}),l)})))()},anonymousLogin:function(e){return console.log("Anonymous Login"),e.auth.loginWithCredential(new c.a)},find:function(e){return console.log("Query administrador"),this.db.collection(L).find(e).toArray()},userPasswordLogin:function(e,a,t){console.log("User Password Login");var n=new c.e(a,t);return e.auth.loginWithCredential(n)}},D=(t(179),t(180),function(e){return r.a.createElement("div",{className:"input_text",style:e.style},r.a.createElement("input",{placeholder:e.placeholder,onChange:e.onChange,step:"0.01",required:e.required,disabled:e.disabled,defaultValue:e.defaultValue,type:e.type?e.type:"text",name:e.name?e.name:""}),r.a.createElement("label",{className:"label"},e.label))}),T=(t(181),function(e){return r.a.createElement("button",{type:e.type,style:e.width?{width:e.width}:{},onClick:e.onClick,editing:e.editing,disabled:e.loading||e.editing,className:e.loading||e.editing?"button "+e.className+" loading":"button "+e.className},e.loading?"Carregando":e.editing?"Editando":e.text)}),P=(t(182),function(e){var a=e.onCheck,t=void 0===a?function(){}:a,n=e.label,l=r.a.useState(!1),o=Object(M.a)(l,2),c=o[0],s=o[1];return r.a.createElement("div",{className:"checkbox_container"},r.a.createElement("div",{className:c?"checkbox checked":"checkbox",onClick:function(){s(!c),t(c)}}),r.a.createElement("label",null,n))}),F=(t(183),function(){return r.a.createElement("div",{className:"modo_paisagem"},r.a.createElement("h2",null,"Por favor, vire o seu celular! :("))}),H={db:null,setDb:function(e){this.db=e},delete:function(e){var a=this;return Object(k.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("delete cliente"),t.abrupt("return",a.db.collection("clientes").deleteOne(e));case 2:case"end":return t.stop()}}),t)})))()},create:function(e){return console.log("create cliente"),this.db.collection("clientes").insertOne(e)},update:function(e,a){return console.log("update cliente"),this.db.collection("clientes").updateMany(e,{$set:a})},editCliente:function(e,a){return console.log("edit cliente"),this.update({_id:e},a)},addUser:function(e,a,t,n){var r=this;return Object(k.a)(j.a.mark((function l(){var o;return j.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return console.log("add cliente user"),o=e.auth.getProviderClient(c.d.factory),l.next=4,o.registerWithEmail(a,t);case 4:return l.abrupt("return",r.create(Object(u.a)({},n,{email:a})));case 5:case"end":return l.stop()}}),l)})))()},login:function(e,a,t){return console.log("login cliente"),e.auth.loginWithCredential(new c.e(a,t))},findAll:function(){return console.log("find all clientes"),this.db.collection("clientes").find({},{sort:{nome:1}}).toArray()},find:function(e){return console.log("find query clientes"),this.db.collection("clientes").find(e).toArray()},fixarSalaNoTopo:function(e,a){return this.db.collection("clientes").updateOne({_id:a._id},{$set:{sala_fixa:e._id}})}},I=Object(s.b)((function(e){return{mongoClient:e.general.mongoClient,database:e.general.database,userLogged:e.general.userLogged}}),(function(e){return{setUserLogged:function(a){return e({type:d.setUserLogged,payload:a})},setProfissionalReservas:function(a){return e({type:d.setProfissionalReservas,payload:a})}}}))((function(e){var a=e.mongoClient,n=e.userLogged,l=e.setUserLogged,o=r.a.useState(!1),c=Object(M.a)(o,2),s=c[0],i=c[1],u=r.a.useState(!1),d=Object(M.a)(u,2),m=d[0],f=d[1],p=r.a.useState(!0),g=Object(M.a)(p,2),v=g[0],h=g[1],E=r.a.useState(!1),b=Object(M.a)(E,2),S=b[0],y=b[1],_=function(e,a){S&&(localStorage.setItem("email",e),localStorage.setItem("pwd",a),alert("Adicionado ao local storage"))},N=function(){var e=Object(k.a)(j.a.mark((function e(t,n){var r,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=[],o=[],h(!0),e.prev=2,e.next=5,H.login(a,t,n);case 5:return e.next=7,H.find({email:t});case 7:if(!((r=e.sent).length>0)){e.next=14;break}i(!0),l(r[0]),_(t,n),e.next=18;break;case 14:return e.next=16,R.find({email:t});case 16:(o=e.sent).length>0?(f(!0),l(o[0]),_(t,n)):alert("Erro interno. Por favor, contate os desenvolvedores.");case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(2),console.log(e.t0),46===e.t0.errorCode?alert("Usu\xe1rio ou senha inv\xe1lidos."):alert("Erro desconhecido! Log do erro "+e.t0);case 24:h(!1);case 25:case"end":return e.stop()}}),e,null,[[2,20]])})));return function(a,t){return e.apply(this,arguments)}}();r.a.useEffect((function(){var e=[localStorage.getItem("email"),localStorage.getItem("pwd")],t=e[0],n=e[1];a&&t&&n&&N(t,n)}),[a]);var x=Object(A.useHistory)();return r.a.useEffect((function(){"nome"in n?(h(!0),"ocupacao"in n?x.push("/agendamentos"):x.push("/agendamento_adm")):h(!1)}),[n]),r.a.createElement("div",{className:"login_container"},r.a.createElement(F,null),r.a.createElement("div",{className:"ball"}),r.a.createElement("div",{className:"logo_container"},r.a.createElement("img",{alt:"integra_logo",src:t(141)}),r.a.createElement("p",null,"Sistema de Gerenciamento")),r.a.createElement("div",{className:"login"},r.a.createElement("h1",null,"Login"),r.a.createElement("div",{className:"card"},r.a.createElement("form",{onSubmit:function(){var e=Object(k.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),h(!0),e.next=4,N(a.target.email.value,a.target.senha.value);case 4:h(!1);case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}()},r.a.createElement(D,{name:"email",label:"E-mail",placeholder:"Ex: joao@example.com"}),r.a.createElement(D,{name:"senha",label:"Senha",type:"password",placeholder:"Informe sua senha"}),r.a.createElement(P,{onCheck:function(e){y(!e)},label:"Manter-me Conectado"}),r.a.createElement(T,{loading:v,type:"submit",text:"Confirmar"})),s&&r.a.createElement(A.Redirect,{to:"/agendamentos"}),m&&r.a.createElement(A.Redirect,{to:"/agendamento_adm"}))))})),U=(t(185),Object(s.b)((function(e){return{userLogged:e.general.userLogged}}),(function(e){return{setUserLogged:function(a){return e({type:d.setUserLogged,payload:a})}}}))((function(e){var a=Object(A.useHistory)();return r.a.createElement("div",{className:"topbar_container"},r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{alt:"logo",src:t(141)})),r.a.createElement("div",{className:"titulo"},r.a.createElement("h2",null,"Portal da Equipe"),r.a.createElement("h4",null,"Agendamentos")),r.a.createElement("div",{className:"user_data"},r.a.createElement("div",null,r.a.createElement("h2",null,e.userLogged?e.userLogged.nome:"Catherine Torres"),r.a.createElement("h4",null,e.userLogged?e.userLogged.ocupacao:"Fisioterapeuta"))),r.a.createElement("img",{alt:"profile_pic",className:"profile_pic",src:e.userLogged?e.userLogged.foto_url:"https://randomuser.me/api/portraits/women/43.jpg"}),r.a.createElement(T,{onClick:function(){e.setUserLogged({}),localStorage.removeItem("email"),localStorage.removeItem("pwd"),a.push("/")},width:"5%",text:r.a.createElement("i",{className:"fas fa-door-open"}),className:"log-off"}))}))),Y=(t(186),t(187),t(63)),V=t.n(Y),q={db:null,setDb:function(e){this.db=e},create:function(e){return console.log("create login"),this.db.collection("logs").insertOne(e)},findAll:function(){return console.log("find all logs"),this.db.collection("logs").find({}).toArray()}},B={db:null,setDb:function(e){this.db=e},create:function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return a&&(console.log("Create reserva"),q.create({usuario:a,log:"Adicionou uma reserva",data_hora:new Date})),this.db.collection("reservas").insertOne(e)},update:function(e,a){return console.log("Update reserva"),this.db.collection("reservas").updateMany(e,{$set:a})},cancelaReserva:function(e){return console.log("Cancela reserva"),this.update({_id:e},{cancelado:!0})},cancelaMuitasReservas:function(e){console.log("Cancela muita reserva");for(var a=[],t=0;t<e.length;t++)a.push(this.cancelaReserva(e[t]._id));return Promise.all(a)},executaReserva:function(e){return console.log("Executa reserva"),this.update({_id:e},{executado:!0,execucao_fim:new Date})},pagaReserva:function(e){return console.log("Paga reserva"),this.update({_id:e},{pago:!0})},editaReserva:function(e,a){return console.log("Edita reserva"),this.update({_id:e},a)},comecaReserva:function(e){return console.log("Come\xe7a a executar a reserva"),this.update({_id:e},{execucao_inicio:new Date})},findReservaDeCliente:function(e,a){console.log("Find Reserva de Cliente");var t=[];return a.forEach((function(a){a.profissional&&a.profissional._id.toString()===e.toString()&&t.push(a)})),t},findAll:function(e){return console.log("Find All de Cliente"),e.callFunction("getAgendamentos")},getAgendamentosById:function(e,a){var t=null;return e.forEach((function(e){e._id.toString()===a.toString()&&(t=e)})),t},getAgendamentosFromSala:function(e,a){console.log("get Agendamentos da sala");var t=[];return e.forEach((function(e){"sala"in e&&a.nome===e.sala.nome&&t.push(e)})),t}},$=function(e){var a=e.split(".");return a.length>0&&("jpg"===a[a.length-1].toLowerCase()||"jpeg"===a[a.length-1].toLowerCase()||"gif"===a[a.length-1].toLowerCase()||"png"===a[a.length-1].toLowerCase())},z=function(e){return"number"==typeof e&&(e=e.toFixed(2)),(e="R$ "+e).includes(".")||e.includes(",")?e=e.replace(".",","):e+=",00",e},G=function(e){return e+":00"},W=function(e){return r.a.createElement("div",{className:"reserva"},r.a.createElement("i",null,r.a.createElement("h2",null,"Reservado")),r.a.createElement("h4",null,G(e.reserva.hora_inicio)," ~ ",G(e.reserva.hora_fim)))},J=["Dom","Seg","Ter","Qua","Qui","Sex","S\xe1b"],Q=Object(s.b)((function(e){return{agendamentos:e.agendamentos.agendamentos}}))((function(e){var a=r.a.useState([]),t=Object(M.a)(a,2),n=t[0],l=t[1],o=r.a.useState(V()()),c=Object(M.a)(o,2),s=c[0],i=c[1];return r.a.useEffect((function(){l(B.getAgendamentosFromSala(e.agendamentos,e.sala))}),[e]),r.a.createElement("div",{className:"container_week"},r.a.createElement("div",{onClick:function(){l(B.getAgendamentosFromSala(e.agendamentos,e.sala)),i(s.subtract(1,"week"))},className:s.isSame(new Date,"week")?"chevron hidden":"chevron"},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-chevron-left"}))),J.map((function(a,t){var l=V()(s.toDate()).locale("pt-BR").startOf("week").add(t,"days");return r.a.createElement("div",{key:a,className:"week_day"},r.a.createElement("h1",{className:l.isSame(new Date,"day")?"today":""},a),r.a.createElement("h3",{className:l.isSame(new Date,"day")?"today":""},l.format("DD/MMM")),n.map((function(a,t){return l.isSame(a.data,"day")&&!a.cancelado?"mes"in a?l.isSame(new Date,"day")?r.a.createElement("div",{onClick:function(){return e.addReservaListener(l)},className:"add"},r.a.createElement("span",null,"+")):r.a.createElement(r.a.Fragment,null):r.a.createElement(W,{key:t,reserva:a}):r.a.createElement(r.a.Fragment,null)})),l.isSameOrAfter(new Date,"day")?r.a.createElement("div",{onClick:function(){return e.addReservaListener(l)},className:"add"},r.a.createElement("span",null,"+")):r.a.createElement(r.a.Fragment,null))})),r.a.createElement("div",{onClick:function(){l(B.getAgendamentosFromSala(e.agendamentos,e.sala)),i(s.add(1,"week"))},className:s.isSame(V()().add(2,"week"),"week")?"chevron hidden":"chevron"},r.a.createElement("p",null,r.a.createElement("i",{className:"fas fa-chevron-right"}))))})),X=t(161),K=Object(s.b)((function(e){return{userLogged:e.general.userLogged,agendamentos:e.agendamentos.agendamentos}}),(function(e){return{setUserLogged:function(a){return e({type:d.setUserLogged,payload:a})}}}))((function(e){var a=r.a.useState(!1),t=Object(M.a)(a,2),n=t[0],l=t[1],o=r.a.useState(!1),c=Object(M.a)(o,2),s=c[0],i=c[1];return r.a.useEffect((function(){"sala_fixa"in e.userLogged&&"_id"in e.sala&&l(e.sala._id.toString()===e.userLogged.sala_fixa.toString()),i(function(){for(var a=0;a<e.agendamentos.length;a++)if("mes"in e.agendamentos[a]&&e.agendamentos[a].sala_id.toString()===e.sala._id.toString()&&e.agendamentos[a].mes.getMonth()===(new Date).getMonth())return!0;return!1}())}),[e]),r.a.createElement("div",{className:"sala_content"},r.a.createElement(X.a,{id:"main",place:"left",type:"info",effect:"solid"}),r.a.createElement("div",{className:"sala_container"},r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement("span",{className:n?"fixa":"",onClick:Object(k.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,H.fixarSalaNoTopo(e.sala,e.userLogged);case 2:e.setUserLogged(Object(u.a)({},e.userLogged,{sala_fixa:e.sala._id}));case 3:case"end":return a.stop()}}),a)}))),"data-for":"main","data-tip":"Fixar no Topo","data-iscapture":"true"},r.a.createElement("i",{className:"fas fa-thumbtack"})," ","\xa0"),e.sala.nome),r.a.createElement("p",null,"Hor\xe1rios Reservados")),r.a.createElement("div",null,r.a.createElement(T,{className:"btn_detalhes",text:"Detalhes",onClick:e.onClickDetalhesListener}))),s?r.a.createElement("h2",{className:"aluguel_mensal"},"Esta sala est\xe1 alugada por todo o m\xeas e n\xe3o est\xe1 dispon\xedvel para agendamentos."):r.a.createElement(Q,{sala:e.sala,isAdm:e.isAdm,addReservaListener:e.addReservaListener}))})),Z=(t(188),t(189),t(190),function(e){var a=r.a.useRef();return r.a.useEffect((function(){a.current&&setTimeout((function(){a.current&&a.current.reset()}),300)}),[e.show]),r.a.createElement("div",{className:e.show?"modal_container":"modal_container hidden"},e.header,r.a.createElement("form",{ref:a,onSubmit:e.onSubmit,encType:"multipart/form-data"},r.a.createElement("div",null,e.body),e.footer))}),ee=t(53),ae=Object(s.b)((function(e){return{salaSelected:e.salas.salaSelected,dateSelected:e.general.dateSelected}}))((function(e){var a=function(){return 6===e.dateSelected.getDay()},t=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=[],r=e;r<(t?a()?13:21:a()?12:20);r++)n.push({label:r+":00",value:r});return n},n=r.a.useState(0),l=Object(M.a)(n,2),o=l[0],c=l[1],s=r.a.useState(0),i=Object(M.a)(s,2),u=i[0],d=i[1],m=r.a.useState(t(8)),f=Object(M.a)(m,2),p=f[0],g=f[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"horas_intervalo"},r.a.createElement("div",null,r.a.createElement("h2",null,"Hora Inicial"),r.a.createElement(ee.a,{name:"hora_inicio",onChange:function(e){g(t(e.value+1,!0)),c(e.value)},classNamePrefix:"Select",options:t(8)})),r.a.createElement("div",null,r.a.createElement("h2",null,"Hora Final"),r.a.createElement(ee.a,{onChange:function(e){return d(e.value)},name:"hora_fim",classNamePrefix:"Select",options:p}))),r.a.createElement("div",{className:"resume_container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Valor/Hora"),r.a.createElement("h3",null,z(e.salaSelected.valor_hora))),r.a.createElement("div",null,r.a.createElement("h2",null,"Valor Total:"),r.a.createElement("h3",null,z(0===u?0:e.salaSelected.valor_hora*(u-o))))))})),te=Object(s.b)((function(e){return{profissionais:e.profissionais.profissionais}}))((function(e){return r.a.createElement("div",null,r.a.createElement("div",{className:"select_profissionais_container"},r.a.createElement("h2",null,"Dura\xe7\xe3o do Turno"),r.a.createElement(ee.a,{onChange:function(a){return e.selectTurno(a.value)},name:"hora_turno",placeholder:"Selecione o Hor\xe1rio do Turno",options:[{label:"08:00h \xe0s 13:00h",value:{hora_inicio:8,hora_fim:13}},{label:"14:00h \xe0s 18:00h",value:{hora_inicio:14,hora_fim:18}},{label:"15:00h \xe0s 19:00h",value:{hora_inicio:15,hora_fim:19}},{label:"16:00h \xe0s 20:00h",value:{hora_inicio:16,hora_fim:20}}]}),r.a.createElement("div",{className:"resume_container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Valor/Hora"),r.a.createElement("h3",null,"R$39,90")),r.a.createElement("div",null,r.a.createElement("h2",null,"Valor Total:"),r.a.createElement("h3",null,"R$139,90")))))})),ne=t(64),re=t.n(ne),le=Object(s.b)((function(e){return{profissionais:e.profissionais.profissionais}}))((function(e){var a=r.a.useState([]),t=Object(M.a)(a,2),n=t[0],l=t[1];return r.a.useEffect((function(){for(var e=[],a=1;a<4;a++)e.push({label:re()(new Date).locale("pt-BR").add(a,"month").format(" MMMM / YYYY"),value:re()(new Date).locale("pt-BR").add(a,"month").toDate()});l(e)}),[]),r.a.createElement("div",null,r.a.createElement("div",{className:"select_profissionais_container"},r.a.createElement("h2",null,"M\xeas a ser Solicitado"),r.a.createElement(ee.a,{onChange:function(a){e.selectMes(a.value),console.log(a.value)},style:{marginLeft:"5%",marginRight:"5%"},placeholder:"M\xeas a ser solicitado",options:n})),r.a.createElement("div",{className:"resume_container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Valor Mensal:"),r.a.createElement("h3",null,"R$139,90"))))})),oe=function(e){var a=e.selectedPage,t=e.selectPage,n=e.selectTurno,l=e.selectMes;return r.a.createElement("div",null,r.a.createElement("div",{className:"options"},r.a.createElement("div",{onClick:function(){return t("Hora Avulsa")},className:"Hora Avulsa"===a?"option selected":"option"},r.a.createElement("p",null,"Hora Avulsa")),r.a.createElement("div",{onClick:function(){return t("Turno")},className:"Turno"===a?"option selected":"option"},r.a.createElement("p",null,"Turno")),r.a.createElement("div",{onClick:function(){return t("Mensal")},className:"Mensal"===a?"option selected":"option"},r.a.createElement("p",null,"Mensal"))),function(e){switch(e){case"Hora Avulsa":return r.a.createElement(ae,null);case"Turno":return r.a.createElement(te,{selectTurno:n});case"Mensal":return r.a.createElement(le,{selectMes:l});default:return r.a.createElement(r.a.Fragment,null)}}(a))},ce=Object(s.b)((function(e){return{dateSelected:e.general.dateSelected,salaSelected:e.salas.salaSelected,userLogged:e.general.userLogged,mongoClient:e.general.mongoClient,agendamentos:e.agendamentos.agendamentos}}),(function(e){return{setProfissionalReservas:function(a){return e({type:d.setProfissionalReservas,payload:a})},setAgendamentos:function(a){return e({type:d.setAgendamentos,payload:a})}}}))((function(e){var a=e.show,t=e.close,n=e.dateSelected,l=e.userLogged,o=e.salaSelected,c=e.setAgendamentos,s=e.mongoClient,i=(e.agendamentos,e.setProfissionalReservas),d=r.a.useState(!1),m=Object(M.a)(d,2),f=m[0],p=m[1],g=r.a.useState("Hora Avulsa"),v=Object(M.a)(g,2),h=v[0],E=v[1],b=r.a.useState({}),S=Object(M.a)(b,2),y=S[0],_=S[1],N=r.a.useState(null),x=Object(M.a)(N,2),w=x[0],O=x[1],A=function(e){var a={profissional_id:l._id,sala_id:o._id,data:n,cancelado:!1,pago:!1,executado:!1};switch(h){case"Hora Avulsa":return Object(u.a)({},a,{hora_inicio:Number(e.hora_inicio.value),hora_fim:Number(e.hora_fim.value),valorTotal:Number((o.valor_hora*(Number(e.hora_fim.value)-Number(e.hora_inicio.value))).toFixed(2))});case"Turno":return Object(u.a)({},a,{},y,{valorTotal:o.valor_hora*(y.hora_fim-y.hora_inicio)});case"Mensal":return Object(u.a)({},a,{mes:w,valorTotal:3500})}},C=function(){var e=Object(k.a)(j.a.mark((function e(a){var n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n=a.target,p(!0),r=A(n),e.next=6,B.create(r,l);case 6:p(!1),alert("Adicionado com sucesso!"),t();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.useEffect((function(){s&&B.findAll(s).then((function(e){c(e),"nome"in l&&i(B.findReservaDeCliente(l._id,e))}))}),[s]),r.a.createElement(Z,{show:a,onSubmit:C,header:r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Adicionar Reserva"),r.a.createElement("h3",null,re()(n).locale("pt-BR").format("DD [de] MMMM [de] YYYY")," - ",o.nome)),r.a.createElement("div",{className:"close_container",onClick:t},r.a.createElement("i",{className:"fa fa-times"}))),body:r.a.createElement("div",null,r.a.createElement(oe,{selectedPage:h,selectPage:E,selectMes:O,selectTurno:_})),footer:r.a.createElement("div",{className:"footer"},r.a.createElement(T,{loading:f,type:"submit",text:"Confirmar"}))})})),se={reservaCliente:"RESERVA_CLIENTE",detalhesSala:"DETALHES_SALA",adicionarAdministrador:"ADD_ADM",adicionarProfissional:"ADD_PROF",adicionarAgendamentoAdm:"ADD_TASK_ADM",adicionarSalas:"ADD_SALAS",adicionarAgendamento:"ADD_AGENDAMENTO",editarAgendamento:"EDIT_AGENDAMENTO_ADM"},ie=(t(191),Object(s.b)((function(e){return{salaSelected:e.salas.salaSelected}}))((function(e){return r.a.createElement(Z,{show:e.show,header:r.a.createElement("header",null,r.a.createElement("h1",null,"Detalhes - ",e.salaSelected.nome),r.a.createElement("div",{className:"close_container",onClick:e.close},r.a.createElement("i",{className:"fa fa-times"}))),body:r.a.createElement("div",{className:"modal_sala_body"},"fotos"in e.salaSelected?r.a.createElement("div",{className:"carrousel"},r.a.createElement("i",{className:"fa fa-chevron-left"}),e.salaSelected?r.a.createElement("img",{alt:"",src:e.salaSelected.fotos[0]}):r.a.createElement(r.a.Fragment,null),r.a.createElement("i",{className:"fa fa-chevron-right"})):r.a.createElement(r.a.Fragment,null),r.a.createElement("div",{className:"sala_details"},r.a.createElement("div",null,r.a.createElement("h2",null,"Valor/Hora:"),r.a.createElement("h3",null,z(e.salaSelected.valor_hora))),r.a.createElement("div",null,r.a.createElement("h2",null,"No espa\xe7o cont\xe9m:"),r.a.createElement("h3",null,e.salaSelected.descricao))))})}))),ue=(t(192),t(146)),de=t.n(ue),me=function(e){return r.a.createElement("div",{className:"alternating_tabs"},e.elements.map((function(a,t){return r.a.createElement("div",{key:t,className:t===e.selectedIndex?"selected":"",onClick:a.onClick},r.a.createElement("h2",null,a.name))})),0===e.selectedIndex?r.a.createElement(de.a,{to:"agendamentos"}):r.a.createElement(r.a.Fragment,null),1===e.selectedIndex?r.a.createElement(de.a,{to:"minhas_reservas"}):r.a.createElement(r.a.Fragment,null))},fe=(t(196),Object(s.b)((function(e){return{profissionalReservas:e.profissionais.profissionalReservas}}))((function(e){return r.a.createElement("div",{className:"snack_container"},r.a.createElement("h2",null,"Voc\xea tem ",function(){var a=0;return e.profissionalReservas.forEach((function(e){e.cancelado||e.executado||a++})),a}()," reservas agendadas"))}))),pe={db:null,setDb:function(e){this.db=e},create:function(e){return this.db.collection("salas").insertOne(e)},update:function(e,a){return this.db.collection("salas").updateMany(e,{$set:a})},delete:function(e){return this.db.collection("salas").deleteMany(e)},findAll:function(){return this.db.collection("salas").find({}).toArray()}},ge=Object(s.b)((function(e){return{showModal:e.general.showModal,modalType:e.general.modalType,salas:e.salas.salas,client:e.general.mongoClient,userLogged:e.general.userLogged,agendamentos:e.agendamentos.agendamentos}}),(function(e){return{openModal:function(a){return e({type:d.showModal,payload:a})},closeModal:function(){return e({type:d.closeModal})},setSalas:function(a){return e({type:d.setSalas,payload:a})},selectDate:function(a){return e({type:d.selectDate,payload:a})},selectSala:function(a){return e({type:d.selectSala,payload:a})},setAgendamentos:function(a){return e({type:d.setAgendamentos,payload:a})},setProfissionalReservas:function(a){return e({type:d.setProfissionalReservas,payload:a})}}}))((function(e){var a=r.a.useState(0),t=Object(M.a)(a,2),n=t[0],l=t[1],o=Object(A.useHistory)();return r.a.useEffect((function(){"nome"in e.userLogged||o.push("/")})),r.a.useEffect((function(){H.db&&"nome"in e.userLogged&&(pe.findAll().then((function(a){if("sala_fixa"in e.userLogged){var t=e.userLogged.sala_fixa.toString();a.sort((function(e,a){return e._id.toString()==t?-1:a._id.toString()==t?1:0}))}e.setSalas(a)})),B.findAll(e.client).then((function(a){e.setAgendamentos(a),e.setProfissionalReservas(B.findReservaDeCliente(e.userLogged._id,a))})))}),[e.client]),r.a.createElement("div",null,r.a.createElement(F,null),r.a.createElement(ce,{close:function(){return e.closeModal()},show:e.showModal&&e.modalType===se.reservaCliente}),r.a.createElement(ie,{close:function(){return e.closeModal()},show:e.showModal&&e.modalType===se.detalhesSala}),r.a.createElement(U,null),r.a.createElement("div",{className:"info_container"},r.a.createElement(me,{selectedIndex:n,elements:[{name:"Salas para Reservar",onClick:function(){return l(0)}},{name:"Minhas Reservas",onClick:function(){l(1)}}]}),r.a.createElement(fe,null)),r.a.createElement("div",{className:"container_salas"},e.salas.map((function(a,t){return r.a.createElement(K,{sala:a,key:t,onClickDetalhesListener:function(){e.selectSala(a),e.openModal(se.detalhesSala)},addReservaListener:function(t){e.selectDate(t.toDate()),console.log(t.toDate()),e.selectSala(a),e.openModal(se.reservaCliente)}})}))))})),ve=(t(197),t(116)),he=(t(198),t(199),function(e){return e.reserva.cancelado?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:e.executado?"container_reserva_cliente executado":"container_reserva_cliente"},r.a.createElement("div",null,r.a.createElement("h1",null,V()(e.reserva.data).format("DD/MM/YYYY")),r.a.createElement("h4",null,"mes"in e.reserva?r.a.createElement("i",null,"Alugado por todo o M\xeas de ",V()(e.reserva.mes).locale("pt-BR").format("MMMM")):r.a.createElement("div",null,G(e.reserva.hora_inicio)," ~ ",G(e.reserva.hora_fim)))),r.a.createElement("div",null,r.a.createElement("h4",null,"Sala"),r.a.createElement("h1",null,"sala"in e.reserva?e.reserva.sala.nome:"Sem nome")),r.a.createElement("div",null,r.a.createElement("h4",null,"Situa\xe7\xe3o"),r.a.createElement("h2",null,e.reserva.pago?"Pago":"Pendente")))}),Ee=t(43),be=t.n(Ee);t(200);P.propTypes={onCheck:be.a.func.isRequired};var Se=function(e){var a=e.onCheck,t=r.a.useState(!1),n=Object(M.a)(t,2),l=n[0],o=n[1];return r.a.createElement("div",{className:"cancel_checkbox_container"},r.a.createElement("div",{className:l?"cancel_checkbox checked":"cancel_checkbox",onClick:function(){o(!l),a(l)}},r.a.createElement("i",{className:"fas fa-check"})))},ye=Object(s.b)((function(e){return{userLogged:e.general.userLogged,mongoClient:e.general.mongoClient,profissionalReservas:e.profissionais.profissionalReservas}}),(function(e){return{setAgendamentos:function(a){return e({type:d.setAgendamentos,payload:a})},setProfissionalReservas:function(a){return e({type:d.setProfissionalReservas,payload:a})}}}))((function(e){var a=r.a.useState(1),t=Object(M.a)(a,2),n=t[0],l=t[1],o=r.a.useState(!1),c=Object(M.a)(o,2),s=c[0],i=c[1],u=r.a.useState([]),d=Object(M.a)(u,2),m=d[0],f=d[1],p=r.a.useState(!1),g=Object(M.a)(p,2),v=g[0],h=g[1],E=Object(A.useHistory)();r.a.useEffect((function(){"nome"in e.userLogged||E.push("/")}));var b=function(){var a=Object(k.a)(j.a.mark((function a(){var t;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!window.confirm("Voc\xea tem certeza que deseja cancelar esses agendamentos?")){a.next=18;break}return h(!0),a.prev=2,a.next=5,B.cancelaMuitasReservas(m);case 5:return a.next=7,B.findAll(e.mongoClient);case 7:t=a.sent,e.setAgendamentos(t),e.setProfissionalReservas(B.findReservaDeCliente(e.userLogged._id,t)),alert("Cancelamento realizado com sucesso!"),a.next=16;break;case 13:a.prev=13,a.t0=a.catch(2),alert("Erro! Informa\xe7\xf5es: "+a.t0);case 16:h(!1),i(!1);case 18:case"end":return a.stop()}}),a,null,[[2,13]])})));return function(){return a.apply(this,arguments)}}();return r.a.createElement("div",{className:"reservas_page_container"},r.a.createElement(U,null),r.a.createElement("div",{className:"info_container"},r.a.createElement(me,{selectedIndex:n,elements:[{name:"Salas para Reservar",onClick:function(){return l(0)}},{name:"Minhas Reservas",onClick:function(){return l(1)}}]}),r.a.createElement(fe,null)),r.a.createElement("div",{className:"container_reservas"},r.a.createElement("div",{className:"flex"},r.a.createElement("h1",{className:"title"},"Minhas Reservas"),r.a.createElement(T,{onClick:function(){i(!s)},className:"cancelar_agendamentos",text:s?"Parar Cancelamento":"Cancelar Agendamentos"})),e.profissionalReservas.length>0?e.profissionalReservas.map((function(e,a){return e.executado||e.cancelado?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:s?"flex flex_margin":"flex"},s?r.a.createElement(Se,{onCheck:function(a){var t;f(a?(t=e,m.filter((function(e){return e!==t}))):[].concat(Object(ve.a)(m),[e]))}}):r.a.createElement(r.a.Fragment,null),r.a.createElement(he,{reserva:e,key:a}))})):r.a.createElement("h2",{className:"empty_array"},"N\xe3o h\xe1 agendamentos marcados at\xe9 o momento."),s?r.a.createElement(T,{onClick:b,text:"Confirmar Cancelamento",loading:v,className:"cancelar_button"}):r.a.createElement(r.a.Fragment,null),r.a.createElement("h1",{className:"title"},"Hist\xf3rico"),function(){var a=[];return e.profissionalReservas.forEach((function(e){e.executado&&a.push(e)})),a>0?a.map((function(e,a){return r.a.createElement(he,{reserva:e,executado:!0,key:a})})):r.a.createElement("h2",{className:"empty_array"},"N\xe3o h\xe1 agendamentos executados at\xe9 o momento.")}()))})),_e=(t(201),t(202),function(e){return r.a.createElement("div",{className:"hamburger_container",onClick:e.onClick},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),Ne=(t(203),[{pageName:"dashboard",pageLabel:"Dashboard"},{pageName:"agendamento_adm",pageLabel:"Agendamentos"},{pageName:"administrativo",pageLabel:"Administrativo"},{pageName:"logs",pageLabel:"Logs"},{pageName:"Salas",pageLabel:"Salas"},{pageName:"profissionais",pageLabel:"Profissionais"}]),xe=function(e){var a=e.pageSelected,t=e.onClick,n=e.open,l=Object(A.useHistory)();return r.a.createElement("div",{className:"responsive_menu "+(n?"open":"")},r.a.createElement("ul",null,Ne.map((function(e,n){return r.a.createElement("li",{key:n,onClick:function(){t(),l.push(e.pageName)},className:a===e.pageName?"selected":""},e.pageLabel)}))))},we=function(e){var a=Object(A.useHistory)();return r.a.createElement("div",{onClick:function(){a.push("/"+e.page)},className:"tab "+(e.selected?"selected":"")},r.a.createElement("p",null,e.children))},Oe=Object(s.b)((function(e){return{userLogged:e.general.userLogged}}),(function(e){return{setUserLogged:function(a){return e({type:d.setUserLogged,payload:a})}}}))((function(e){var a=e.pageSelected,n=e.userLogged,l=e.setUserLogged,o=r.a.useState(!1),c=Object(M.a)(o,2),s=c[0],i=c[1],u=Object(A.useHistory)();return r.a.createElement("div",{className:"topbar_container topbar_container_adm"},r.a.createElement(_e,{onClick:function(){return i(!0)}}),r.a.createElement(xe,{open:s,pageSelected:a,onClick:function(){return i(!1)}}),r.a.createElement("div",{className:"img_container"},r.a.createElement("img",{alt:"integra_logo",src:t(141)})),r.a.createElement("div",{className:"tabs"},r.a.createElement(we,{page:"dashboard",selected:"dashboard"===a},"Dashboard"),r.a.createElement(we,{page:"agendamento_adm",selected:"agendamento_adm"===a},"Agendamentos"),r.a.createElement(we,{page:"profissionais",selected:"profissionais"===a},"Profissionais"),r.a.createElement(we,{page:"administrativo",selected:"administrativo"===a},"Administrativo"),r.a.createElement(we,{page:"salas",selected:"salas"===a},"Salas"),r.a.createElement(we,{page:"logs",selected:"logs"===a},"Logs")),r.a.createElement("div",{className:"user_data"},r.a.createElement("div",null,r.a.createElement("h2",null,n?n.nome:"Catherine Torres"),r.a.createElement("h4",null,"Administrador"))),r.a.createElement("img",{alt:"profile_pic",className:"profile_pic",src:n?n.foto_url:"https://randomuser.me/api/portraits/women/43.jpg"}),r.a.createElement(T,{onClick:function(){l({}),localStorage.removeItem("email"),localStorage.removeItem("pwd"),u.push("/")},width:"5%",text:r.a.createElement("i",{className:"fas fa-door-open"}),className:"log-off"}))})),Ae=(t(204),function(){for(var e=[],a=0;a<13;a++)e.push({label:a+8+":00",value:a+8});return e}()),Ce=(new Array(8).fill("Sala 02"),Object(s.b)((function(e){return{salas:e.salas.salas,agendamentos:e.agendamentos.agendamentos,dateSelected:e.general.dateSelected}}),(function(e){return{selectDate:function(a){return e({type:d.selectDate,payload:a})},openModal:function(a){return e({type:d.showModal,payload:a})},selectAgendamentos:function(a){return e({type:d.selectAgendamentos,payload:a})},selectSala:function(a){return e({type:d.selectSala,payload:a})}}}))((function(e){return r.a.createElement("div",{className:"calendar_agendamentos_container"},r.a.createElement("h1",null,r.a.createElement("span",{onClick:function(){e.selectDate(re()(e.dateSelected).subtract(1,"day").toDate())},className:"chevron_date",style:{float:"left"}},r.a.createElement("i",{className:"fa fa-chevron-left"})),re()(e.dateSelected).locale("pt-BR").format(" DD MMMM YYYY"),r.a.createElement("span",{onClick:function(){e.selectDate(re()(e.dateSelected).add(1,"day").toDate())},className:"chevron_date",style:{float:"right"}},r.a.createElement("i",{className:"fa fa-chevron-right"}))),r.a.createElement("div",{className:"container_table"},r.a.createElement("table",{className:"calendar_table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{style:{width:"10%"}}),e.salas.map((function(e,a){return r.a.createElement("th",{key:a},e.nome)})))),r.a.createElement("tbody",null,Ae.map((function(a,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,a.label),e.salas.map((function(t,n){var l=B.getAgendamentosFromSala(e.agendamentos,t),o=!1,c=!1,s=null;return l.forEach((function(t,n){var r,l,i;"hora_inicio"in t?(r=a.value,l=t.hora_inicio,i=t.hora_fim,r>=l&&r<i&&re()(e.dateSelected).isSame(new Date(t.data),"day")&&!t.cancelado&&(o=!0,s=t,console.log(s))):"mes"in t&&(c=!0)})),o?s?c?r.a.createElement("td",{key:n,className:"occupied"},s?s.profissional?s.profissional.nome:r.a.createElement("i",null,"Usu\xe1rio Exclu\xeddo"):""):s.hora_inicio===a.value?r.a.createElement("td",{onClick:function(){e.openModal(se.editarAgendamento),e.selectAgendamentos(s)},key:n,rowSpan:s.hora_fim-s.hora_inicio,className:"occupied"},s?s.profissional?s.profissional.nome:r.a.createElement("i",null,"Usu\xe1rio Exclu\xeddo"):""):r.a.createElement(r.a.Fragment,null):void 0:c?r.a.createElement("td",{key:n,className:"alugado"},r.a.createElement("i",null,"Alugado Mensalmente")):r.a.createElement("td",{key:n,className:"free",onClick:function(){e.openModal(se.adicionarAgendamentoAdm),e.selectSala(t)}},r.a.createElement("i",{className:"fa fa-plus"}))})))}))))))}))),je=(t(205),t(206),Object(s.b)((function(e){return{mongoClient:e.general.mongoClient,profissionais:e.profissionais.profissionais,salaSelected:e.agendamentos.salaSelected,dateSelected:e.general.dateSelected}}))((function(e){var a=e.profissionais,t=e.selectProf,n=e.salaSelected,l=e.dateSelected,o=function(){return 6===l.getDay()},c=function(e){for(var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=[],n=e;n<(a?o()?13:21:o()?12:20);n++)t.push({label:n+":00",value:n});return t},s=r.a.useState([]),i=Object(M.a)(s,2),u=i[0],d=i[1],m=r.a.useState(0),f=Object(M.a)(m,2),p=f[0],g=f[1],v=r.a.useState(0),h=Object(M.a)(v,2),E=h[0],b=h[1],S=r.a.useState(c(8,!0)),y=Object(M.a)(S,2),_=y[0],N=y[1];return r.a.useEffect((function(){var e=[];a.forEach((function(a){e.push({label:a.nome,value:a})})),d(e)}),[a]),r.a.createElement("div",null,r.a.createElement("div",{className:"select_profissionais_container"},r.a.createElement(ee.a,{name:"profissional",onChange:function(e){t(e.value)},style:{marginLeft:"5%",marginRight:"5%"},placeholder:"Profissional",options:u})),r.a.createElement("div",{className:"horas_intervalo"},r.a.createElement("div",null,r.a.createElement("h2",null,"Hora Inicial"),r.a.createElement(ee.a,{name:"hora_inicio",onChange:function(e){N(c(e.value+1,!0)),g(e.value)},classNamePrefix:"Select",options:c(8)})),r.a.createElement("div",null,r.a.createElement("h2",null,"Hora Final"),r.a.createElement(ee.a,{onChange:function(e){return b(e.value)},name:"hora_fim",classNamePrefix:"Select",options:_}))),r.a.createElement("div",{className:"resume_container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Valor/Hora"),r.a.createElement("h3",null,z(n.valor_hora))),r.a.createElement("div",null,r.a.createElement("h2",null,"Valor Total:"),r.a.createElement("h3",null,z(0===E?0:n.valor_hora*(E-p))))))}))),ke=Object(s.b)((function(e){return{profissionais:e.profissionais.profissionais}}))((function(e){var a=r.a.useState([]),t=Object(M.a)(a,2),n=t[0],l=t[1];r.a.useEffect((function(){var a=[];e.profissionais.forEach((function(e){a.push({label:e.nome,value:e})})),l(a)}),[e.profissionais]);return r.a.createElement("div",null,r.a.createElement("div",{className:"select_profissionais_container"},r.a.createElement(ee.a,{placeholder:"Profissional",classNamePrefix:"Select",options:n}),r.a.createElement("h2",null,"Dura\xe7\xe3o do Turno"),r.a.createElement(ee.a,{placeholder:"Selecione o Hor\xe1rio do Turno",options:[{label:"08:00h \xe0s 13:00h",value:"08:00h \xe0s 13:00h"},{label:"14:00h \xe0s 18:00h",value:"14:00h \xe0s 18:00h"},{label:"15:00h \xe0s 19:00h",value:"15:00h \xe0s 19:00h"},{label:"16:00h \xe0s 20:00h",value:"16:00h \xe0s 20:00h"}]}),r.a.createElement("div",{className:"resume_container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Valor/Hora"),r.a.createElement("h3",null,"R$39,90")),r.a.createElement("div",null,r.a.createElement("h2",null,"Valor Total:"),r.a.createElement("h3",null,"R$139,90")))))})),Me=Object(s.b)((function(e){return{profissionais:e.profissionais.profissionais}}))((function(e){var a=r.a.useState([]),t=Object(M.a)(a,2),n=t[0],l=t[1],o=r.a.useState([]),c=Object(M.a)(o,2),s=c[0],i=c[1];return r.a.useEffect((function(){var a=[];e.profissionais.forEach((function(e){a.push({label:e.nome,value:e})}));for(var t=[],n=0;n<3;n++)t.push({label:re()(new Date).locale("pt-BR").add(n,"month").format(" MMMM / YYYY"),value:re()(new Date).locale("pt-BR").add(n,"month").format(" MMMM / YYYY")});i(t),l(a)}),[e.profissionais]),r.a.createElement("div",null,r.a.createElement("div",{className:"select_profissionais_container"},r.a.createElement(ee.a,{style:{marginLeft:"5%",marginRight:"5%"},placeholder:"Profissional",options:n}),r.a.createElement("h2",null,"M\xeas a ser Solicitado"),r.a.createElement(ee.a,{style:{marginLeft:"5%",marginRight:"5%"},placeholder:"M\xeas a ser solicitado",options:s})),r.a.createElement("div",{className:"resume_container"},r.a.createElement("div",null,r.a.createElement("h2",null,"Valor/Hora"),r.a.createElement("h3",null,"R$39,90")),r.a.createElement("div",null,r.a.createElement("h2",null,"Valor Total:"),r.a.createElement("h3",null,"R$139,90"))))})),Le=function(e){var a=r.a.useState("Hora Avulsa"),t=Object(M.a)(a,2),n=t[0],l=t[1];return r.a.createElement("div",null,r.a.createElement("div",{className:"options"},r.a.createElement("div",{onClick:function(){return l("Hora Avulsa")},className:"Hora Avulsa"===n?"option selected":"option"},r.a.createElement("p",null,"Hora Avulsa")),r.a.createElement("div",{onClick:function(){return l("Turno")},className:"Turno"===n?"option selected":"option"},r.a.createElement("p",null,"Turno")),r.a.createElement("div",{onClick:function(){return l("Mensal")},className:"Mensal"===n?"option selected":"option"},r.a.createElement("p",null,"Mensal"))),function(a){switch(a){case"Hora Avulsa":return r.a.createElement(je,{selectProf:e.selectProf});case"Turno":return r.a.createElement(ke,null);case"Mensal":return r.a.createElement(Me,null);default:return r.a.createElement(r.a.Fragment,null)}}(n))},Re=t(162),De=t.n(Re),Te=Object(s.b)((function(e){return{mongoClient:e.general.mongoClient,dateSelected:e.general.dateSelected,salaSelected:e.agendamentos.salaSelected,userLogged:e.general.userLogged}}),(function(e){return{closeModal:function(){return e({type:d.closeModal})}}}))((function(e){var a=e.show,t=e.close,n=e.dateSelected,l=e.salaSelected,o=e.userLogged,c=r.a.useState({}),s=Object(M.a)(c,2),i=s[0],u=s[1],d=r.a.useState(!1),m=Object(M.a)(d,2),f=m[0],p=m[1],g=function(){var e=Object(k.a)(j.a.mark((function e(a){var r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),r=a.target,c=i,p(!0),e.next=6,B.create({profissional_id:c._id,hora_inicio:Number(r.hora_inicio.value),hora_fim:Number(r.hora_fim.value),sala_id:l._id,data:De()(n).toDate(),valorTotal:Number((l.valor_hora*(Number(r.hora_fim.value)-Number(r.hora_inicio.value))).toFixed(2)),cancelado:!1,pago:!1,executado:!1},o);case 6:p(!1),alert("Adicionado com sucesso!"),t();case 9:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Z,{show:a,onSubmit:g,header:r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Adicionar Reserva"),r.a.createElement("h3",null,"Sexta, 27 de Janeiro de 2019")),r.a.createElement("div",{className:"close_container",onClick:t},r.a.createElement("i",{className:"fa fa-times"}))),body:r.a.createElement("div",null,r.a.createElement(Le,{selectProf:u})),footer:r.a.createElement("div",{className:"footer"},r.a.createElement(T,{loading:f,type:"submit",text:"Confirmar"}))})})),Pe=(t(207),Object(s.b)((function(e){return{agendamentoSelected:e.agendamentos.agendamentoSelected,dateSelected:e.general.dateSelected,mongoClient:e.general.mongoClient}}),(function(e){return{setAgendamentos:function(a){return e({type:d.setAgendamentos,payload:a})},selectAgendamentos:function(a){return e({type:d.selectAgendamentos,payload:a})}}}))((function(e){var a=r.a.useState(!1),t=Object(M.a)(a,2),n=t[0],l=t[1],o=r.a.useState(!1),c=Object(M.a)(o,2),s=c[0],i=c[1],u=r.a.useState(!1),d=Object(M.a)(u,2),m=d[0],f=d[1],p=r.a.useState(!1),g=Object(M.a)(p,2),v=g[0],h=g[1];r.a.useEffect((function(){i("execucao_inicio"in e.agendamentoSelected&&!("execucao_fim"in e.agendamentoSelected)),f("execucao_inicio"in e.agendamentoSelected&&"execucao_fim"in e.agendamentoSelected),h(e.agendamentoSelected.pago)}),[e]);var E=function(){var a=Object(k.a)(j.a.mark((function a(){var t;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B.findAll(e.mongoClient);case 2:t=a.sent,e.setAgendamentos(t),e.selectAgendamentos(B.getAgendamentosById(t,e.agendamentoSelected._id));case 5:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();return r.a.createElement(Z,{show:e.show,header:r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"Editar Reserva"),r.a.createElement("h3",null,"profissional"in e.agendamentoSelected?e.agendamentoSelected.profissional.nome+" - "+V()(e.dateSelected).locale("pt-BR").format("DD MMMM [de] YYYY"):"")),r.a.createElement("div",{className:"close_container",onClick:e.close},r.a.createElement("i",{className:"fa fa-times"}))),body:r.a.createElement("div",{className:"body_edit_agendamento"},r.a.createElement("h2",null,"Execu\xe7\xe3o"),r.a.createElement("h3",null,m?"Reserva j\xe1 foi finalizada. In\xedcio \xe0s ".concat(V()(e.agendamentoSelected.execucao_inicio).format("HH:mm"),", e fim \xe0s ").concat(V()(e.agendamentoSelected.execucao_fim).format("HH:mm")):s?"Reserva est\xe1 sendo executada":"Reserva ainda n\xe3o executada",r.a.createElement("br",null),r.a.createElement("br",null),m?r.a.createElement(r.a.Fragment,null):r.a.createElement(T,{onClick:Object(k.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(l(!0),!s){a.next=9;break}return a.next=4,B.executaReserva(e.agendamentoSelected._id);case 4:return a.next=6,E();case 6:alert("Execu\xe7\xe3o Finalizada com Sucesso!"),a.next=13;break;case 9:return a.next=11,B.comecaReserva(e.agendamentoSelected._id);case 11:return a.next=13,E();case 13:l(!1);case 14:case"end":return a.stop()}}),a)}))),type:"button",text:"execucao_inicio"in e.agendamentoSelected?"Finalizar":"Iniciar",loading:n,width:"30%"})),r.a.createElement("h2",null,"Pagamento"),r.a.createElement("h3",null,v?"Reserva j\xe1 foi paga.":"Reserva ainda n\xe3o foi paga."," ",r.a.createElement("br",null),r.a.createElement("br",null),v?r.a.createElement(r.a.Fragment,null):r.a.createElement(T,{onClick:Object(k.a)(j.a.mark((function a(){return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return l(!0),a.next=3,B.pagaReserva(e.agendamentoSelected._id);case 3:return a.next=5,E();case 5:l(!1);case 6:case"end":return a.stop()}}),a)}))),loading:n,type:"button",text:"Pagar",width:"30%"}))),footer:r.a.createElement("div",{className:"footer footer_edit_agendamento"},"sala"in e.agendamentoSelected?r.a.createElement("div",{className:"flex crud_ops"},r.a.createElement(T,{text:"Cancelar",type:"button",onClick:Object(k.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}),r.a.createElement(T,{className:"submit",loading:n,type:"submit",text:"Confirmar"})):r.a.createElement(r.a.Fragment,null))})}))),Fe=Object(s.b)((function(e){return{showModal:e.general.showModal,modalType:e.general.modalType,userLogged:e.general.userLogged,client:e.general.mongoClient}}),(function(e){return{openModal:function(a){return e({type:d.showModal,payload:a})},closeModal:function(){return e({type:d.closeModal})},setProfissionais:function(a){return e({type:d.setProfissionais,payload:a})},setSalas:function(a){return e({type:d.setSalas,payload:a})},setAgendamentos:function(a){return e({type:d.setAgendamentos,payload:a})},setLogs:function(a){return e({type:d.setLogs,payload:a})}}}))((function(e){var a=Object(A.useHistory)();return r.a.useEffect((function(){H.db&&("ocupacao"in e.userLogged&&a.push("/"),H.findAll().then((function(a){e.setProfissionais(a)})),pe.findAll().then((function(a){e.setSalas(a)})),B.findAll(e.client).then((function(a){e.setAgendamentos(a)})),q.findAll().then((function(a){e.setLogs(a)})))})),r.a.createElement("div",null,r.a.createElement(Oe,{pageSelected:"agendamento_adm"}),r.a.createElement("div",{className:"container_salas"},r.a.createElement(Te,{close:function(){return e.closeModal()},show:e.showModal&&e.modalType===se.adicionarAgendamentoAdm}),r.a.createElement(Pe,{close:function(){return e.closeModal()},show:e.showModal&&e.modalType===se.editarAgendamento}),r.a.createElement(Ce,null)))})),He=t(164),Ie=t(93),Ue=(t(208),function(e){return r.a.useEffect((function(){var e=He.a("chart_agendamentos",Ie.d);e.paddingRight=20;for(var a=[],t=10,n=1;n<366;n++)t+=Math.round((Math.random()<.5?1:-1)*Math.random()*10),a.push({date:new Date(2018,0,n),name:"name"+n,value:t});e.data=a,e.xAxes.push(new Ie.a).renderer.grid.template.location=0;var r=e.yAxes.push(new Ie.c);r.tooltip.disabled=!0,r.renderer.minWidth=35;var l=e.series.push(new Ie.b);l.dataFields.dateX="date",l.dataFields.valueY="value",l.tooltipText="{valueY.value}",e.cursor=new Ie.f;var o=new Ie.e;o.series.push(l),e.scrollbarX=o}),[]),r.a.createElement("div",null,r.a.createElement(Oe,{pageSelected:"dashboard"}),r.a.createElement("div",{className:"indicators_container"},r.a.createElement("div",null,r.a.createElement("h5",null,"5,25% ",r.a.createElement("i",{className:"fa fa-arrow-up"})," \xa0 que no m\xeas anterior"),r.a.createElement("h2",null,"25 reservas no m\xeas")),r.a.createElement("div",null,r.a.createElement("h2",null,"35 reservas canceladas"),r.a.createElement("h5",null,"5,25% ",r.a.createElement("i",{className:"fa fa-arrow-up"})," \xa0 que no m\xeas anterior"))),r.a.createElement("div",{className:"bottom_column"},r.a.createElement("div",{className:"agendamentos_chart_container"},r.a.createElement("h2",null,"Agendamentos"),r.a.createElement("div",{id:"chart_agendamentos"})),r.a.createElement("div",{className:"quickdetails_container"},r.a.createElement("h2",null,"Informa\xe7\xf5es"),r.a.createElement("h3",null,"5 Novos Profissionais"),r.a.createElement("h3",null,"57 agendamentos"),r.a.createElement("h3",null,"15 usu\xe1rios cadastrados"),r.a.createElement("h3",null,"183 agendamentos at\xe9 o momento"),r.a.createElement("h3",null,"5 pacientes para profissionais"),r.a.createElement("h3",null,"23 cancelamentos"))))}),Ye=(t(209),function(e){return r.a.createElement("div",{className:"card_log"},r.a.createElement("img",{alt:"Profile_pic",className:"profile_pic",src:e.log.usuario.foto_url}),r.a.createElement("div",null,r.a.createElement("h3",null,e.log.usuario.nome),r.a.createElement("h1",null,e.log.log)),r.a.createElement("div",null,r.a.createElement("h4",null,V()(new Date(e.log.data_hora)).locale("pt-BR").format(" DD/MM/YYYY HH:mm"))))}),Ve=(t(210),Object(s.b)((function(e){return{logs:e.logs.logs,userLogged:e.general.userLogged}}))((function(e){var a=Object(A.useHistory)();return"ocupacao"in e.userLogged&&a.push("/"),r.a.createElement("div",null,r.a.createElement(Oe,{pageSelected:"logs"}),r.a.createElement("div",{className:"logs"},e.logs.map((function(e){return r.a.createElement(Ye,{log:e})}))))}))),qe=(t(211),Object(s.b)(null,(function(e){return{openModal:function(a){return e({type:d.showModal,payload:a})},selectProfissional:function(a){return e({type:d.selectProfissional,payload:a})}}}))((function(e){return r.a.createElement("div",{className:"card_profissional"},r.a.createElement("img",{alt:"profissional_pic",src:e.profissional.foto_url}),r.a.createElement("h2",null,e.profissional.nome),r.a.createElement("h3",null,e.profissional.ocupacao),r.a.createElement(T,{text:"Informa\xe7\xf5es",onClick:function(){e.selectProfissional(e.profissional),e.openModal(se.adicionarProfissional)}}))}))),Be=(t(212),t(213),Object(s.b)(null,(function(e){return{selectAdministrador:function(){return e({type:d.selectAdministrador,payload:{}})}}}))((function(e){return r.a.createElement("div",{className:e.open?"Fab open":"Fab",onClick:function(){e.onClick(e.open),e.selectAdministrador()}},r.a.createElement("i",{className:"fa fa-plus"}))}))),$e=(t(214),t(215),function(e){var a=r.a.createRef(),n=r.a.useState("Nenhum arquivo selecionado."),l=Object(M.a)(n,2),o=l[0],c=l[1],s=r.a.useState(""),i=Object(M.a)(s,2),u=i[0],d=i[1],m=function(a){a.target.files?a.target.files[0]?(c(a.target.files[0].name),d(URL.createObjectURL(a.target.files[0])),e.onChangeFile(a.target.files[0],"https://teste.integracps.com.br/uploads/"+a.target.files[0].name)):(d(""),c("Nenhum arquivo selecionado.")):(e.onChangeFile(null,a.target.value),d(a.target.value))},f=r.a.useState(!1),p=Object(M.a)(f,2),g=p[0],v=p[1];return r.a.createElement("div",{className:"preview_input_container"},r.a.createElement("div",{className:"file_input_container"},r.a.createElement("img",{alt:"Preview",src:""===u?t(216):u}),r.a.createElement("input",{type:"file",name:e.fileName,id:"real_file",onChange:m,hidden:!0,accept:"image/png, image/jpeg, image/jpg, image/gif",ref:a}),r.a.createElement("div",{className:"buttons"},r.a.createElement("button",{disabled:g,onClick:function(){return v(!0)},className:g?"button_secondary selected":"button_secondary"},"URL"),r.a.createElement("button",{disabled:!g,onClick:function(){return v(!1)},className:g?"button_secondary":"button_secondary selected"},"Arquivo")),r.a.createElement("div",{className:"arquivo_upload",style:g?{display:"none"}:{}},r.a.createElement("button",{type:"button",onClick:function(){a.current.click()}},r.a.createElement("i",{className:"fa fa-upload"})),r.a.createElement("span",null,o)),r.a.createElement(D,{name:e.urlName,style:g?{width:"100%"}:{display:"none"},label:"URL da foto",onChange:m})))}),ze=t(105),Ge=Object(s.b)((function(e){return{mongoClient:e.general.mongoClient,profissionalSelected:e.profissionais.profissionalSelected}}),(function(e){return{closeModal:function(){return e({type:d.closeModal})},setProfissionais:function(a){return e({type:d.setProfissionais,payload:a})},selectProfissional:function(){return e({type:d.selectProfissional,payload:{}})}}}))((function(e){var a=e.show,t=e.close,n=e.mongoClient,l=e.closeModal,o=e.setProfissionais,c=e.profissionalSelected,s=e.selectProfissional,i=r.a.useState(!1),u=Object(M.a)(i,2),d=u[0],m=u[1],f=r.a.useState(null),p=Object(M.a)(f,2),g=p[0],v=p[1],h=r.a.useState(!1),E=Object(M.a)(h,2),b=E[0],S=E[1],y=r.a.useState(""),_=Object(M.a)(y,2),N=_[0],x=_[1],w=function(){var e=Object(k.a)(j.a.mark((function e(a){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://teste.integracps.com.br/imageUpload.php",(t=new FormData).append("userfile",a),n={headers:{"content-type":"multipart/form-data"}},e.abrupt("return",Object(ze.post)("https://teste.integracps.com.br/imageUpload.php",t,n));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(k.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$(N)){e.next=20;break}return e.prev=1,e.next=4,w(g);case 4:return e.next=6,H.addUser(n,a.email.value,a.senha.value,{nome:a.nome.value,telefone:a.telefone.value,ocupacao:a.ocupacao.value,descricao:a.descricao.value,foto_url:N,email:a.email.value});case 6:return e.t0=o,e.next=9,H.findAll();case 9:e.t1=e.sent,(0,e.t0)(e.t1),$(N),alert("Profissional Adicionado com Sucesso!"),e.next=18;break;case 15:e.prev=15,e.t2=e.catch(1),alert(e.t2);case 18:e.next=21;break;case 20:alert("Informe uma imagem v\xe1lida acima");case 21:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.update({_id:c._id},{nome:a.nome.value,telefone:a.telefone.value,ocupacao:a.ocupacao.value,descricao:a.descricao.value,email:a.email.value});case 3:return e.next=5,H.findAll();case 5:t=e.sent,o(t),s(),alert("Profissional editado com Sucesso!"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,H.delete({_id:c._id});case 3:return e.next=5,H.findAll();case 5:a=e.sent,o(a),alert("Profissional removido com sucesso"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),m(!0),t=a.target,b){e.next=8;break}return e.next=6,O(t);case 6:e.next=10;break;case 8:return e.next=10,A(t);case 10:s(),S(!1),t.reset(),l(),m(!1);case 15:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Z,{show:a,onSubmit:L,header:r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"nome"in c?"Informa\xe7\xf5es do Profissional":"Adicionar Profissional")),r.a.createElement("div",{className:"close_container",onClick:function(){t(),s(),S(!1)}},r.a.createElement("i",{className:"fa fa-times"}))),body:r.a.createElement("div",null,r.a.createElement($e,{onChangeFile:function(e,a){v(e),x(a)},urlName:"foto_url",fileName:"userfile"}),r.a.createElement(D,{disabled:"nome"in c&&!b,defaultValue:c.nome,name:"nome",label:"Nome"}),r.a.createElement("div",{className:"flex"},r.a.createElement(D,{disabled:"nome"in c&&!b,defaultValue:c.telefone,name:"telefone",label:"Telefone"}),r.a.createElement(D,{disabled:"nome"in c&&!b,defaultValue:c.ocupacao,name:"ocupacao",label:"Ocupa\xe7\xe3o"})),r.a.createElement(D,{disabled:"nome"in c&&!b,defaultValue:c.descricao,name:"descricao",label:"Descri\xe7\xe3o"}),r.a.createElement(D,{name:"email",disabled:"nome"in c&&!b,defaultValue:c.email,label:"Email",placeholder:"E-mail utilizado para Login"}),"email"in c?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"flex"},r.a.createElement(D,{label:"Senha",name:"senha"}),r.a.createElement(D,{label:"Confirmar Senha"}))),footer:r.a.createElement("div",{className:"footer"},"nome"in c?r.a.createElement("div",{className:"flex crud_ops"},r.a.createElement(T,{text:"Remover",type:"button",onClick:Object(k.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja apagar esse profissional do sistema?")){e.next=5;break}return e.next=3,C();case 3:l(),S(!1);case 5:case"end":return e.stop()}}),e)})))}),r.a.createElement(T,{editing:b,onClick:function(){return S(!0)},text:"Editar",type:"button"})):r.a.createElement(r.a.Fragment,null),r.a.createElement(T,{loading:d,type:"submit",text:"Confirmar"}))})})),We=Object(s.b)((function(e){return{showModal:e.general.showModal,modalType:e.general.modalType,client:e.general.mongoClient,userLogged:e.general.userLogged,profissionais:e.profissionais.profissionais}}),(function(e){return{closeModal:function(){return e({type:d.closeModal})},openModal:function(a){return e({type:d.showModal,payload:a})},setProfissionais:function(a){return e({type:d.setProfissionais,payload:a})}}}))((function(e){var a=Object(A.useHistory)();return r.a.useEffect((function(){"ocupacao"in e.userLogged&&a.push("/"),H.db&&H.findAll().then((function(a){e.setProfissionais(a)}))}),[e.client]),r.a.createElement("div",null,r.a.createElement(Ge,{close:function(){return e.closeModal()},show:e.showModal&&e.modalType===se.adicionarProfissional}),r.a.createElement(Oe,{pageSelected:"profissionais"}),r.a.createElement("div",{className:"profissionais_container"},e.profissionais.map((function(e){return r.a.createElement(qe,{profissional:e})}))),r.a.createElement(Be,{onClick:function(){e.openModal(se.adicionarProfissional)}}))})),Je=(t(233),t(234),Object(s.b)(null,(function(e){return{openModal:function(a){return e({type:d.showModal,payload:a})},selectAdministrador:function(a){return e({type:d.selectAdministrador,payload:a})}}}))((function(e){return r.a.createElement("div",{className:"card_administrativo"},r.a.createElement("img",{alt:"administrativo_pic",src:e.administrador.foto_url}),r.a.createElement("h2",null,e.administrador.nome),r.a.createElement(T,{text:"Informa\xe7\xf5es",onClick:function(){e.selectAdministrador(e.administrador),e.openModal(se.adicionarAdministrador)}}))}))),Qe=(t(235),Object(s.b)((function(e){return{mongoClient:e.general.mongoClient,administradorSelected:e.administradores.administradorSelected}}),(function(e){return{setAdministrativo:function(a){return e({type:d.setAdministrativo,payload:a})},closeModal:function(){return e({type:d.closeModal})},unselectAdministrativo:function(){return e({type:d.selectAdministrador,payload:{}})}}}))((function(e){var a=e.show,t=e.close,n=e.mongoClient,l=e.closeModal,o=e.administradorSelected,c=void 0===o?{}:o,s=e.setAdministrativo,i=e.unselectAdministrativo,u=r.a.useState(!1),d=Object(M.a)(u,2),m=d[0],f=d[1],p=r.a.useState(null),g=Object(M.a)(p,2),v=g[0],h=g[1],E=r.a.useState(""),b=Object(M.a)(E,2),S=b[0],y=b[1],_=r.a.useState(!1),N=Object(M.a)(_,2),x=N[0],w=N[1];r.a.useEffect((function(){w(!1)}),[]);var O=function(){var e=Object(k.a)(j.a.mark((function e(a){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://teste.integracps.com.br/imageUpload.php",(t=new FormData).append("userfile",a),n={headers:{"content-type":"multipart/form-data"}},e.abrupt("return",Object(ze.post)("https://teste.integracps.com.br/imageUpload.php",t,n));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$(S)){e.next=14;break}return e.prev=1,e.next=4,O(v);case 4:return e.next=6,R.addUser(n,a.email.value,a.senha.value,{nome:a.nome.value,foto_url:S,email:a.email.value});case 6:$(S),alert("Administrador adicionado com Sucesso!"),l(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(a){return e.apply(this,arguments)}}(),C=function(){var e=Object(k.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.update({_id:c._id},{nome:a.nome.value,email:a.email.value});case 3:return e.next=5,R.findAll();case 5:t=e.sent,s(t),alert("Administrador editado com Sucesso!"),l(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),alert(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(a){return e.apply(this,arguments)}}(),L=function(){var e=Object(k.a)(j.a.mark((function e(){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,R.delete({_id:c._id});case 3:return e.next=5,R.findAll();case 5:a=e.sent,s(a),alert("Administrador deletado com Sucesso!"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),alert(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(k.a)(j.a.mark((function e(a){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.target,a.preventDefault(),f(!0),x){e.next=8;break}return e.next=6,A(t);case 6:e.next=10;break;case 8:return e.next=10,C(t);case 10:i(),w(!1),f(!1);case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Z,{onSubmit:P,show:a,header:r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"nome"in c?"Informa\xe7\xf5es do Administrador":"Adicionar Administrativo")),r.a.createElement("div",{className:"close_container",onClick:function(){t(),w(!1),i()}},r.a.createElement("i",{className:"fa fa-times"}))),body:r.a.createElement("div",null,r.a.createElement($e,{onChangeFile:function(e,a){h(e),y(a)},urlName:"foto_url",fileName:"userfile"}),r.a.createElement(D,{defaultValue:c.nome,disabled:"nome"in c&&!x,label:"Nome",name:"nome"}),r.a.createElement(D,{defaultValue:c.email,disabled:"nome"in c&&!x,label:"Login",name:"email"}),"email"in c?r.a.createElement(r.a.Fragment,null):r.a.createElement("div",{className:"flex"},r.a.createElement(D,{label:"Senha",name:"senha"}),r.a.createElement(D,{label:"Confirmar Senha"}))),footer:r.a.createElement("div",{className:"footer"},"nome"in c?r.a.createElement("div",{className:"flex crud_ops"},r.a.createElement(T,{text:"Remover",type:"button",onClick:Object(k.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja apagar esse administrador do sistema?")){e.next=5;break}return e.next=3,L();case 3:l(),w(!1);case 5:case"end":return e.stop()}}),e)})))}),r.a.createElement(T,{editing:x,onClick:function(){return w(!0)},text:"Editar",type:"button"})):r.a.createElement(r.a.Fragment,null),r.a.createElement(T,{loading:m,type:"submit",text:"Confirmar"}))})}))),Xe=Object(s.b)((function(e){return{showModal:e.general.showModal,modalType:e.general.modalType,client:e.general.mongoClient,userLogged:e.general.userLogged,administradores:e.administradores.administradores}}),(function(e){return{openModal:function(a){return e({type:d.showModal,payload:a})},closeModal:function(){return e({type:d.closeModal})},setAdministrativo:function(a){return e({type:d.setAdministrativo,payload:a})}}}))((function(e){var a=Object(A.useHistory)();return r.a.useEffect((function(){R.db&&R.findAll().then((function(a){e.setAdministrativo(a)})),"ocupacao"in e.userLogged&&a.push("/")}),[e.client]),r.a.createElement("div",null,r.a.createElement(Qe,{close:function(){return e.closeModal()},show:e.showModal&&e.modalType===se.adicionarAdministrador}),r.a.createElement(Oe,{pageSelected:"administrativo"}),r.a.createElement("div",{className:"container_adms"},e.administradores.map((function(e,a){return r.a.createElement(Je,{key:a,administrador:e})}))),r.a.createElement(Be,{onClick:function(){e.openModal(se.adicionarAdministrador)}}))})),Ke=(t(236),t(237),Object(s.b)(null,(function(e){return{openModal:function(a){return e({type:d.showModal,payload:a})},selectSala:function(a){return e({type:d.selectSala,payload:a})}}}))((function(e){return r.a.createElement("div",{className:"card_sala"},r.a.createElement("img",{alt:"sala",src:e.sala.fotos[0]}),r.a.createElement("div",null,r.a.createElement("h2",null,e.sala.nome),r.a.createElement(T,{onClick:function(){e.openModal(se.adicionarSalas),e.selectSala(e.sala)},text:"Informa\xe7\xf5es"})))}))),Ze=Object(s.b)((function(e){return{mongoClient:e.general.mongoClient,salaSelected:e.salas.salaSelected}}),(function(e){return{closeModal:function(){return e({type:d.closeModal})},unselectSala:function(){return e({type:d.selectSala,payload:{}})}}}))((function(e){var a=e.show,t=e.closeModal,n=(e.mongoClient,e.close),l=e.salaSelected,o=e.unselectSala,c=r.a.useState(!1),s=Object(M.a)(c,2),i=s[0],u=s[1],d=r.a.useState(null),m=Object(M.a)(d,2),f=m[0],p=m[1],g=r.a.useState(!1),v=Object(M.a)(g,2),h=v[0],E=v[1],b=r.a.useState(""),S=Object(M.a)(b,2),y=S[0],_=S[1],N=function(){var e=Object(k.a)(j.a.mark((function e(a){var t,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://teste.integracps.com.br/imageUpload.php",(t=new FormData).append("userfile",a),n={headers:{"content-type":"multipart/form-data"}},e.abrupt("return",Object(ze.post)("https://teste.integracps.com.br/imageUpload.php",t,n));case 5:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),x=function(){var e=Object(k.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!$(y)){e.next=14;break}return e.prev=1,e.next=4,N(f);case 4:return e.next=6,pe.create({nome:a.nome.value,descricao:a.descricao.value,valor_hora:Number(a.valor_hora.value),fotos:[y]});case 6:alert("Sala adicionada com Sucesso!"),t(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),alert(e.t0);case 13:u(!1);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(a){return e.apply(this,arguments)}}(),w=function(){var e=Object(k.a)(j.a.mark((function e(a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.update({_id:l._id},{nome:a.nome.value,descricao:a.descricao.value,valor_hora:Number(a.valor_hora.value)});case 3:alert("Sala editada com sucesso!"),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:u(!1);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(a){return e.apply(this,arguments)}}(),O=function(){var e=Object(k.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,pe.delete({_id:l._id});case 3:alert("Sala removida com sucesso!"),t(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),alert(e.t0);case 10:o(),u(!1);case 12:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(k.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n=a.target,u(!0),h){e.next=8;break}return e.next=6,x(n);case 6:e.next=10;break;case 8:return e.next=10,w(n);case 10:o(),E(!1),t();case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return r.a.createElement(Z,{show:a,onSubmit:A,header:r.a.createElement("header",null,r.a.createElement("div",null,r.a.createElement("h1",null,"nome"in l?"Informa\xe7\xf5es da Sala":"Adicionar Sala")),r.a.createElement("div",{className:"close_container",onClick:function(){n(),o(),E(!1)}},r.a.createElement("i",{className:"fa fa-times"}))),body:r.a.createElement("div",null,r.a.createElement($e,{onChangeFile:function(e,a){p(e),_(a)},fileName:"userfile",urlName:"file_url"}),r.a.createElement(D,{disabled:"nome"in l&&!h,defaultValue:l.nome,label:"Nome",name:"nome",required:!0}),r.a.createElement(D,{disabled:"nome"in l&&!h,defaultValue:l.descricao,label:"Descri\xe7\xe3o",name:"descricao",required:!0}),r.a.createElement(D,{disabled:"nome"in l&&!h,defaultValue:l.valor_hora,label:"Valor da Hora",name:"valor_hora",type:"number",required:!0})),footer:r.a.createElement("div",{className:"footer"},"nome"in l?r.a.createElement("div",{className:"flex crud_ops"},r.a.createElement(T,{text:"Remover",type:"button",onClick:Object(k.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Tem certeza que deseja apagar essa sala do sistema?")){e.next=5;break}return e.next=3,O();case 3:t(),E(!1);case 5:case"end":return e.stop()}}),e)})))}),r.a.createElement(T,{editing:h,onClick:function(){return E(!0)},text:"Editar",type:"button"})):r.a.createElement(r.a.Fragment,null),r.a.createElement(T,{loading:i,type:"submit",text:"Confirmar"}))})})),ea=Object(s.b)((function(e){return{showModal:e.general.showModal,modalType:e.general.modalType,salas:e.salas.salas,userLogged:e.general.userLogged}}),(function(e){return{openModal:function(a){return e({type:d.showModal,payload:a})},closeModal:function(){return e({type:d.closeModal})},setSalas:function(a){return e({type:d.setSalas,payload:a})}}}))((function(e){var a=Object(A.useHistory)();return"ocupacao"in e.userLogged&&a.push("/"),r.a.useEffect((function(){pe.db&&pe.findAll().then((function(a){e.setSalas(a)}))})),r.a.createElement("div",null,r.a.createElement(Oe,{pageSelected:"salas"}),r.a.createElement(Ze,{close:function(){return e.closeModal()},show:e.showModal&&e.modalType===se.adicionarSalas}),r.a.createElement("div",{className:"salas_container"},r.a.createElement("div",{className:"header_salas"},r.a.createElement("div",null,r.a.createElement("h1",null,"Salas Cadastradas"),r.a.createElement("h3",null,"Abaixo seguem as salas possu\xeddas pela Integra")),r.a.createElement("div",null,r.a.createElement(T,{width:"50%",text:"Nova Sala"}))),r.a.createElement("div",{className:"salas"},e.salas.map((function(e,a){return r.a.createElement(Ke,{sala:e,key:a})})))),r.a.createElement(Be,{onClick:function(){return e.openModal(se.adicionarSalas)}}))}));var aa=function(){return r.a.useEffect((function(){var e=c.c.initializeDefaultAppClient("integra-rhnuz"),a=e.getServiceClient(c.b.factory,"mongodb-atlas").db("Integra");w.dispatch({type:d.setMongoClient,payload:e}),w.dispatch({type:d.setDatabase,payload:a}),function(e){H.setDb(e),R.setDb(e),pe.setDb(e),B.setDb(e),q.setDb(e)}(a)}),[]),r.a.createElement(s.a,{store:w},r.a.createElement(O.a,null,r.a.createElement(A.Route,{path:"/",exact:!0,component:I}),r.a.createElement(A.Route,{path:"/agendamentos",component:ge}),r.a.createElement(A.Route,{path:"/minhas_reservas",component:ye}),r.a.createElement(A.Route,{path:"/agendamento_adm",component:Fe}),r.a.createElement(A.Route,{path:"/dashboard",component:Ue}),r.a.createElement(A.Route,{path:"/administrativo",component:Xe}),r.a.createElement(A.Route,{path:"/profissionais",component:We}),r.a.createElement(A.Route,{path:"/salas",component:ea}),r.a.createElement(A.Route,{path:"/logs",component:Ve})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(aa,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[165,1,3]]]);
//# sourceMappingURL=main.33bc2cbd.chunk.js.map